{"version":3,"sources":["styles/style.module.css","components/Controls.jsx","components/Counter.jsx","components/Publication.jsx","components/Reader.jsx","App.js","index.js"],"names":["module","exports","Controls","prevArticle","prevDisabled","nextArticle","nextDisabled","className","style","controls","type","button","onClick","disabled","Counter","currentArticle","allArticles","counter","Publication","article","publication","title","text","Reader","state","updateAddress","step","queryString","parse","props","location","search","item","history","push","Number","this","setState","prevProps","prevState","items","reader","length","Component","App","path","render","publications","to","ReactDOM","document","getElementById"],"mappings":"mtgBACAA,EAAOC,QAAU,CAAC,OAAS,sBAAsB,YAAc,2BAA2B,QAAU,uBAAuB,SAAW,wBAAwB,OAAS,wB,2KCiCxJC,EA9BE,SAAC,GAA8D,IAA5DC,EAA2D,EAA3DA,YAAaC,EAA8C,EAA9CA,aAAcC,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,aAC1D,OACE,yBAAKC,UAAWC,IAAMC,UACpB,4BACEC,KAAK,SACLH,UAAWC,IAAMG,OACjBC,QAAST,EACTU,SAAUT,GAJZ,kCAQA,4BACEM,KAAK,SACLH,UAAWC,IAAMG,OACjBC,QAASP,EACTQ,SAAUP,GAJZ,0CCGSQ,EAbC,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,eAAgBC,EAAkB,EAAlBA,YACjC,OACE,yBAAKT,UAAWC,IAAMS,SACnBF,EADH,IACoBC,ICYTE,EAhBK,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACrB,OACE,yBAAKZ,UAAWC,IAAMY,aACpB,4BAAKD,EAAQE,OACb,2BAAIF,EAAQG,Q,6jBCyFHC,E,2MA3EbC,MAAQ,CACNT,eAAgB,G,EAuClBU,cAAgB,WAAe,IAAdC,EAAa,uDAAN,EAAM,EACXC,IAAYC,MAAM,EAAKC,MAAMC,SAASC,QAA/CC,EADoB,EACpBA,KACR,EAAKH,MAAMI,QAAQC,KAAnB,KACK,EAAKL,MAAMC,SADhB,CAEEC,OAAO,QAAD,OAAUI,OAAOH,GAAQN,O,EAInCrB,YAAc,WACZ,EAAKoB,cAAc,I,EAGrBtB,YAAc,WACZ,EAAKsB,eAAe,I,mFAjDD,IACXV,EAAmBqB,KAAKZ,MAAxBT,eADU,EAEYqB,KAAKP,MAA3BC,EAFU,EAEVA,SAAUG,EAFA,EAEAA,QAEJF,EACVK,KAAKP,MADPC,SAAYC,OAGd,GAAKA,EAAL,CAPkB,IAcVC,EAASL,IAAYC,MAAMG,GAA3BC,KACRI,KAAKC,SAAS,CACZtB,eAAgBoB,OAAOH,KAEzBI,KAAKX,qBAVHQ,EAAQC,KAAR,KACKJ,EADL,CAEEC,OAAO,QAAD,OAAUhB,Q,yCAWHuB,EAAWC,GAAY,IAE1BR,EACVK,KAAKP,MADPC,SAAYC,OAEA5B,EAAgBwB,IAAYC,MAAMU,EAAUR,SAASC,QAA3DC,KACM3B,EAAgBsB,IAAYC,MAAMG,GAAxCC,KACJ7B,IAAgBE,GAIpB+B,KAAKC,SAAS,CACZtB,eAAgBoB,OAAO9B,O,+BAoBjB,IACAU,EAAmBqB,KAAKZ,MAAxBT,eACAyB,EAAUJ,KAAKP,MAAfW,MAER,OACE,yBAAKjC,UAAWC,IAAMiC,QACpB,kBAAC,EAAD,CACEpC,YAAa+B,KAAK/B,YAClBF,YAAaiC,KAAKjC,YAClBG,aAAcS,GAAkByB,EAAME,OACtCtC,aAAcW,GAAkB,IAElC,kBAAC,EAAD,CAASA,eAAgBA,EAAgBC,YAAawB,EAAME,SAC5D,kBAAC,EAAD,CAAavB,QAASqB,EAAMzB,EAAiB,U,GAlFhC4B,a,QCWNC,EAfH,WACV,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,KAAK,UAELC,OAAQ,SAAAjB,GAAK,OAAI,kBAAC,EAAD,iBAAYA,EAAZ,CAAmBW,MAAOO,QAE7C,kBAAC,IAAD,CAAUC,GAAG,eCVrBC,IAASH,OAAO,kBAAC,EAAD,MAASI,SAASC,eAAe,W","file":"static/js/main.d83303ae.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"style_reader__2H_P4\",\"publication\":\"style_publication__1YRnv\",\"counter\":\"style_counter__2IpM6\",\"controls\":\"style_controls__2L2tr\",\"button\":\"style_button__2pNI8\"};","import React from 'react';\nimport T from 'prop-types';\nimport style from '../styles/style.module.css';\n\nconst Controls = ({ prevArticle, prevDisabled, nextArticle, nextDisabled }) => {\n  return (\n    <div className={style.controls}>\n      <button\n        type=\"button\"\n        className={style.button}\n        onClick={prevArticle}\n        disabled={prevDisabled}\n      >\n        Назад\n      </button>\n      <button\n        type=\"button\"\n        className={style.button}\n        onClick={nextArticle}\n        disabled={nextDisabled}\n      >\n        Вперед\n      </button>\n    </div>\n  );\n};\n\nControls.propTypes = {\n  prevArticle: T.func.isRequired,\n  prevDisabled: T.bool.isRequired,\n  nextArticle: T.func.isRequired,\n  nextDisabled: T.bool.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport T from 'prop-types';\n\nimport style from '../styles/style.module.css';\n\nconst Counter = ({ currentArticle, allArticles }) => {\n  return (\n    <div className={style.counter}>\n      {currentArticle}/{allArticles}\n    </div>\n  );\n};\n\nCounter.propTypes = {\n  currentArticle: T.number.isRequired,\n  allArticles: T.number.isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport T from 'prop-types';\nimport style from '../styles/style.module.css';\n\nconst Publication = ({ article }) => {\n  return (\n    <div className={style.publication}>\n      <h2>{article.title}</h2>\n      <p>{article.text}</p>\n    </div>\n  );\n};\n\nPublication.propTypes = {\n  article: T.shape({\n    title: T.string.isRequired,\n    text: T.string.isRequired,\n  }).isRequired,\n};\n\nexport default Publication;\n","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport queryString from 'query-string';\nimport Controls from './Controls';\nimport Counter from './Counter';\nimport Publication from './Publication';\n\nimport style from '../styles/style.module.css';\n\nclass Reader extends Component {\n  static propTypes = {\n    items: T.arrayOf(\n      T.shape({\n        id: T.string.isRequired,\n        text: T.string.isRequired,\n        title: T.string.isRequired,\n      }),\n    ).isRequired,\n    location: T.object.isRequired,\n    history: T.object.isRequired,\n  };\n\n  state = {\n    currentArticle: 1,\n  };\n\n  componentDidMount() {\n    const { currentArticle } = this.state;\n    const { location, history } = this.props;\n    const {\n      location: { search },\n    } = this.props;\n\n    if (!search) {\n      history.push({\n        ...location,\n        search: `item=${currentArticle}`,\n      });\n      return;\n    }\n    const { item } = queryString.parse(search);\n    this.setState({\n      currentArticle: Number(item),\n    });\n    this.updateAddress();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      location: { search },\n    } = this.props;\n    const { item: prevArticle } = queryString.parse(prevProps.location.search);\n    const { item: nextArticle } = queryString.parse(search);\n    if (prevArticle === nextArticle) {\n      return;\n    }\n    // eslint-disable-next-line react/no-did-update-set-state\n    this.setState({\n      currentArticle: Number(nextArticle),\n    });\n  }\n\n  updateAddress = (step = 0) => {\n    const { item } = queryString.parse(this.props.location.search);\n    this.props.history.push({\n      ...this.props.location,\n      search: `item=${Number(item) + step}`,\n    });\n  };\n\n  nextArticle = () => {\n    this.updateAddress(1);\n  };\n\n  prevArticle = () => {\n    this.updateAddress(-1);\n  };\n\n  render() {\n    const { currentArticle } = this.state;\n    const { items } = this.props;\n\n    return (\n      <div className={style.reader}>\n        <Controls\n          nextArticle={this.nextArticle}\n          prevArticle={this.prevArticle}\n          nextDisabled={currentArticle >= items.length}\n          prevDisabled={currentArticle <= 1}\n        />\n        <Counter currentArticle={currentArticle} allArticles={items.length} />\n        <Publication article={items[currentArticle - 1]} />\n      </div>\n    );\n  }\n}\n\nexport default Reader;\n","import React from 'react';\nimport { BrowserRouter, Route, Redirect, Switch } from 'react-router-dom';\nimport Reader from './components/Reader';\nimport publications from './data/publications.json';\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route\n          path=\"/reader\"\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          render={props => <Reader {...props} items={publications} />}\n        />\n        <Redirect to=\"/reader\" />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}